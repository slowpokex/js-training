{"version":3,"sources":["../../../last-fm-api-task/js/handler.js"],"names":["searchResult","type","document","querySelector","artist","album","response","loader","value","ArtistList","load","ArtistSearch","ArtistInfo","AlbumInfo","then","parseResponse","res","selectCategory","event","params","getElementById","artistInput","returnInput","albumInput","innerHTML","currentTarget","appendChild","Loader","alert","responseText","nameOfField","input","createElement","name","placeholder","search","addEventListener"],"mappings":"AAAA;;AACA,SAASA,YAAT,GAAwB;AACtB,MAAMC,OAAOC,SAASC,aAAT,CAAuB,yBAAvB,CAAb;AACA,MAAMC,SAASF,SAASC,aAAT,CAAuB,sBAAvB,CAAf;AACA,MAAME,QAAQH,SAASC,aAAT,CAAuB,qBAAvB,CAAd;AACA,MAAIG,iBAAJ;AACA,MAAIC,eAAJ;;AAEA,UAAQN,KAAKO,KAAb;AACE,SAAK,aAAL;AAAqB;AACnBD,iBAAS,IAAIE,UAAJ,EAAT;AACAH,mBAAWC,OAAOG,IAAP,EAAX;AACD,OAAC;AACF,SAAK,eAAL;AAAuB;AACrBH,iBAAS,IAAII,YAAJ,EAAT;AACAL,mBAAWC,OAAOG,IAAP,CAAYN,OAAOI,KAAnB,CAAX;AACD,OAAC;AACF,SAAK,oBAAL;AAA4B;AAC1BD,iBAAS,IAAIK,UAAJ,EAAT;AACAN,mBAAWC,OAAOG,IAAP,CAAYN,OAAOI,KAAnB,CAAX;AACD,OAAC;AACF,SAAK,cAAL;AAAsB;AACpBD,iBAAS,IAAIM,SAAJ,EAAT;AACAP,mBAAWC,OAAOG,IAAP,CAAYN,OAAOI,KAAnB,EAA0BH,MAAMG,KAAhC,CAAX;AACD,OAAC;AAhBJ;AAkBAF,WACGQ,IADH,CACQ;AAAA,WAAOC,cAAcC,GAAd,EAAmBT,MAAnB,CAAP;AAAA,GADR;AAED;;AAED,SAASU,cAAT,CAAwBC,KAAxB,EAA+B;AAC7B,MAAMC,SAASjB,SAASkB,cAAT,CAAwB,iBAAxB,CAAf;AACA,MAAMC,cAAcC,YAAY,QAAZ,CAApB;AACA,MAAMC,aAAaD,YAAY,OAAZ,CAAnB;;AAEAH,SAAOK,SAAP,GAAmB,EAAnB;;AAEA,UAAQN,MAAMO,aAAN,CAAoBjB,KAA5B;AACE,SAAK,eAAL;AAAuB;AACrBW,eAAOO,WAAP,CAAmBL,WAAnB;AACD,OAAC;AACF,SAAK,oBAAL;AAA4B;AAC1BF,eAAOO,WAAP,CAAmBL,WAAnB;AACD,OAAC;AACF,SAAK,cAAL;AAAsB;AACpBF,eAAOO,WAAP,CAAmBL,WAAnB;AACAF,eAAOO,WAAP,CAAmBH,UAAnB;AACD,OAAC;AAVJ;AAYD;;AAED,SAASR,aAAT,CAAuBT,QAAvB,EAAiCL,IAAjC,EAAuC;AACrC;AACA,MAAI,CAACA,IAAD,YAAiB0B,MAArB,EAA6B;AAC7BC,QAAMtB,SAASuB,YAAf;AACD;;AAED,SAASP,WAAT,CAAqBQ,WAArB,EAAkC;AAChC,MAAMC,QAAQ7B,SAAS8B,aAAT,CAAuB,OAAvB,CAAd;AACAD,QAAM9B,IAAN,GAAa,MAAb;AACA8B,QAAME,IAAN,GAAaH,WAAb;AACAC,QAAMG,WAAN,GAAkB,eAAeJ,WAAf,GAA6B,WAA/C;AACA,SAAOC,KAAP;AACD;;AAED,IAAMI,SAASjC,SAASkB,cAAT,CAAwB,aAAxB,CAAf;AACAe,OAAOC,gBAAP,CAAwB,OAAxB,EAAiCpC,YAAjC;AACA,IAAMC,OAAOC,SAASC,aAAT,CAAuB,yBAAvB,CAAb;AACAF,KAAKmC,gBAAL,CAAsB,QAAtB,EAAgCnB,cAAhC","file":"handler.js","sourcesContent":["'use strict';\r\nfunction searchResult() {\r\n  const type = document.querySelector('select[name=\"category\"]');\r\n  const artist = document.querySelector('input[name=\"artist\"]');\r\n  const album = document.querySelector('input[name=\"album\"]');\r\n  let response;\r\n  let loader;\r\n\r\n  switch (type.value) {\r\n    case 'artist-list' : {\r\n      loader = new ArtistList();\r\n      response = loader.load();\r\n    } break;\r\n    case 'search-artist' : {\r\n      loader = new ArtistSearch();\r\n      response = loader.load(artist.value);\r\n    } break;\r\n    case 'search-artist-info' : {\r\n      loader = new ArtistInfo();\r\n      response = loader.load(artist.value);\r\n    } break;\r\n    case 'search-album' : {\r\n      loader = new AlbumInfo();\r\n      response = loader.load(artist.value, album.value);\r\n    } break;\r\n  }\r\n  response\r\n    .then(res => parseResponse(res, loader));\r\n}\r\n\r\nfunction selectCategory(event) {\r\n  const params = document.getElementById('queryParameters');\r\n  const artistInput = returnInput('artist');\r\n  const albumInput = returnInput('album');\r\n\r\n  params.innerHTML = '';\r\n\r\n  switch (event.currentTarget.value) {\r\n    case 'search-artist' : {\r\n      params.appendChild(artistInput);\r\n    } break;\r\n    case 'search-artist-info' : {\r\n      params.appendChild(artistInput);\r\n    } break;\r\n    case 'search-album' : {\r\n      params.appendChild(artistInput);\r\n      params.appendChild(albumInput);\r\n    } break;\r\n  }\r\n}\r\n\r\nfunction parseResponse(response, type) {\r\n  //let result = JSON.parse(response.responseText);\r\n  if (!type instanceof Loader) return;\r\n  alert(response.responseText)\r\n}\r\n\r\nfunction returnInput(nameOfField) {\r\n  const input = document.createElement('input');\r\n  input.type = 'text';\r\n  input.name = nameOfField;\r\n  input.placeholder='Enter the ' + nameOfField + ' value...';\r\n  return input;\r\n}\r\n\r\nconst search = document.getElementById('startSearch');\r\nsearch.addEventListener('click', searchResult);\r\nconst type = document.querySelector('select[name=\"category\"]');\r\ntype.addEventListener('change', selectCategory);"]}