{"version":3,"sources":["../../../last-fm-api-task/js/handler.js"],"names":["searchResult","type","document","querySelector","artist","album","response","loader","value","load","then","parseResponse","res","alert","responseText","search","getElementById","addEventListener"],"mappings":"AAAA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,SAASA,YAAT,GAAwB;AACtB,MAAMC,OAAOC,SAASC,aAAT,CAAuB,yBAAvB,CAAb;AACA,MAAMC,SAASF,SAASC,aAAT,CAAuB,sBAAvB,CAAf;AACA,MAAME,QAAQH,SAASC,aAAT,CAAuB,qBAAvB,CAAd;AACA,MAAIG,iBAAJ;AACA,MAAIC,eAAJ;;AAEA,UAAQN,KAAKO,KAAb;AACE,SAAK,aAAL;AAAqB;AACnBD,iBAAS,0BAAT;AACAD,mBAAWC,OAAOE,IAAP,EAAX;AACD,OAAC;AACF,SAAK,eAAL;AAAuB;AACrBF,iBAAS,4BAAT;AACAD,mBAAWC,OAAOE,IAAP,CAAYL,OAAOI,KAAnB,CAAX;AACD,OAAC;AACF,SAAK,oBAAL;AAA4B;AAC1BD,iBAAS,0BAAT;AACAD,mBAAWC,OAAOE,IAAP,CAAYL,OAAOI,KAAnB,CAAX;AACD,OAAC;AACF,SAAK,cAAL;AAAsB;AACpBD,iBAAS,yBAAT;AACAD,mBAAWC,OAAOE,IAAP,CAAYL,OAAOI,KAAnB,EAA0BH,MAAMG,KAAhC,CAAX;AACD,OAAC;AAhBJ;AAkBAF,WACGI,IADH,CACQ;AAAA,WAAOC,cAAcC,GAAd,EAAmBL,MAAnB,CAAP;AAAA,GADR;AAED;;AAED,SAASI,aAAT,CAAuBL,QAAvB,EAAiCL,IAAjC,EAAuC;AACrC,MAAI,CAACA,IAAD,4BAAJ,EAA6B;AAC7BY,QAAMP,SAASQ,YAAf;AACD;;AAED,IAAMC,SAASb,SAASc,cAAT,CAAwB,aAAxB,CAAf;AACAD,OAAOE,gBAAP,CAAwB,OAAxB,EAAiCjB,YAAjC","file":"handler.js","sourcesContent":["'use strict';\r\nimport Loader from './classes/loader';\r\nimport ArtistList from './classes/artistList';\r\nimport ArtistInfo from './classes/artistInfo';\r\nimport AlbumInfo from './classes/albumInfo';\r\nimport ArtistSearch from './classes/searchArtist';\r\n\r\nfunction searchResult() {\r\n  const type = document.querySelector('select[name=\"category\"]');\r\n  const artist = document.querySelector('input[name=\"artist\"]');\r\n  const album = document.querySelector('input[name=\"album\"]');\r\n  let response;\r\n  let loader;\r\n\r\n  switch (type.value) {\r\n    case 'artist-list' : {\r\n      loader = new ArtistList();\r\n      response = loader.load();\r\n    } break;\r\n    case 'search-artist' : {\r\n      loader = new ArtistSearch();\r\n      response = loader.load(artist.value);\r\n    } break;\r\n    case 'search-artist-info' : {\r\n      loader = new ArtistInfo();\r\n      response = loader.load(artist.value);\r\n    } break;\r\n    case 'search-album' : {\r\n      loader = new AlbumInfo();\r\n      response = loader.load(artist.value, album.value);\r\n    } break;\r\n  }\r\n  response\r\n    .then(res => parseResponse(res, loader));\r\n}\r\n\r\nfunction parseResponse(response, type) {\r\n  if (!type instanceof Loader) return;\r\n  alert(response.responseText)\r\n}\r\n\r\nconst search = document.getElementById('startSearch');\r\nsearch.addEventListener('click', searchResult);\r\n"]}